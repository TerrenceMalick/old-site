<!doctype html>
<html>
	<head>
		<title>My Google Fit Data</title>
		<script src="js/Chart.js/Chart.js"></script>
		<script src="https://cdn.firebase.com/js/client/1.1.3/firebase.js"></script>
	</head>
	<body>
		<div>
			<canvas id="canvas" height="100px" width="auto"></canvas>
		</div>

	<script>
		var myFirebaseRef = new Firebase("https://blistering-torch-5350.firebaseio.com/");
		var googleFitRef = myFirebaseRef.child("googlefit");

		var date = new Date();
		var time = date.getTime();
		var day = Math.floor(time/(86400000));

		var list = googleFitRef.on("value", function(snapshot) {
  			console.log(snapshot.val());
		});

		var dataSet = list;

		var index = 6 - day % 7;
		
		var toUpdate = index.toString();
		googeFitRef.update

		var lineChartData = {
			labels : ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
			datasets : [
				{
					label: "Fit Data",
					fillColor : "rgba(220,220,220,0.2)",
					strokeColor : "rgba(220,220,220,1)",
					pointColor : "rgba(220,220,220,1)",
					pointStrokeColor : "#fff",
					pointHighlightFill : "#fff",
					pointHighlightStroke : "rgba(220,220,220,1)",
					data : dataSet
				}
			]

		}

	window.onload = function(){
		var ctx = document.getElementById("canvas").getContext("2d");
		window.myLine = new Chart(ctx).Line(lineChartData, {
			responsive: true
		});
	}


	</script>
	</body>
</html>



		
